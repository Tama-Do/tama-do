{"version":3,"sources":["__integration_tests__/Simulator-test.js"],"names":["jasmine","DEFAULT_TIMEOUT_INTERVAL","xdl","require","describe","xit","async","let","Simulator","await","_isSimulatorInstalledAsync","Error","_isSimulatorRunningAsync","_quitSimulatorAsync","delayAsync","_openSimulatorAsync","_isExpoAppInstalledOnCurrentBootedSimulatorAsync","_uninstallExpoAppFromSimulatorAsync","_installExpoOnSimulatorAsync","_openUrlInSimulatorAsync"],"mappings":";;;;AAEA;AAAA;AAAA;;;;;;AAFAA,QAAQC,wBAARD,GAAmC,KAAnCA;;AAIA,MAAME,MAAMC,QAAQ,QAARA,CAAZ;;AAEAC,SAAS,WAATA,EAAsB,MAAM;AAC1BC,MAAI,6BAAJA,oBAAmCC,aAAY;AAC7CC,QAAIC,YAAYN,IAAIM,SAApBD;AACA,QAAI,EAACE,MAAMD,UAAUE,0BAAVF,EAAP,CAAJ,EAAmD;AACjD,YAAM,IAAIG,KAAJ,CACJ,kEADI,CAAN;AAGF;;AAEA;AACA,QAAIF,MAAMD,UAAUI,wBAAVJ,EAAV,EAAgD;AAC9CC,YAAMD,UAAUK,mBAAVL,EAANC;AACF;;AAEAA,UAAMK,iDAAW,IAAXA,CAANL,CAb6C,CAavB;;AAEtB;AACAA,UAAMD,UAAUO,mBAAVP,EAANC;;AAEAA,UAAMK,iDAAW,IAAXA,CAANL,CAlB6C,CAkBvB;;AAEtB,QAAI,EAACA,MAAMD,UAAUI,wBAAVJ,EAAP,CAAJ,EAAiD;AAC/C,YAAM,IAAIG,KAAJ,CACJ,oFADI,CAAN;AAGF;;AAEA,QAAIF,MAAMD,UAAUQ,gDAAVR,EAAV,EAAwE;AACtEC,YAAMD,UAAUS,mCAAVT,EAANC;AACF;AACA,QAAIA,MAAMD,UAAUQ,gDAAVR,EAAV,EAAwE;AACtE,YAAM,IAAIG,KAAJ,CACJ,6DADI,CAAN;AAGF;AACAF,UAAMD,UAAUU,4BAAVV,EAANC;AACA,QAAI,EAACA,MAAMD,UAAUQ,gDAAVR,EAAP,CAAJ,EAAyE;AACvE,YAAM,IAAIG,KAAJ,CACJ,6DADI,CAAN;AAGF;;AAEAF,UAAMD,UAAUW,wBAAVX,CACJ,qCADIA,CAANC;;AAIAA,UAAMK,iDAAW,IAAXA,CAANL;;AAEAA,UAAMD,UAAUS,mCAAVT,EAANC;AACA,QAAIA,MAAMD,UAAUQ,gDAAVR,EAAV,EAAwE;AACtE,YAAM,IAAIG,KAAJ,CACJ,iEADI,CAAN;AAGF;;AAEAF,UAAMD,UAAUK,mBAAVL,EAANC;AACA,QAAIA,MAAMD,UAAUI,wBAAVJ,EAAV,EAAgD;AAC9C,YAAM,IAAIG,KAAJ,CAAU,0CAAV,CAAN;AACF;AACD,GA1DDN;AA2DD,CA5DDD","file":"../../__integration_tests__/Simulator-test.js","sourcesContent":["jasmine.DEFAULT_TIMEOUT_INTERVAL = 40000;\n\nimport delayAsync from 'delay-async';\n\nconst xdl = require('../xdl');\n\ndescribe('simulator', () => {\n  xit('opens and loads url in expo', async () => {\n    let Simulator = xdl.Simulator;\n    if (!await Simulator._isSimulatorInstalledAsync()) {\n      throw new Error(\n        \"Simulator isn't installed on this computer; can't run this test.\"\n      );\n    }\n\n    // Quit the simulator to start the test\n    if (await Simulator._isSimulatorRunningAsync()) {\n      await Simulator._quitSimulatorAsync();\n    }\n\n    await delayAsync(1000); // 3 seconds\n\n    // Open the simulator\n    await Simulator._openSimulatorAsync();\n\n    await delayAsync(9000); // 3 seconds\n\n    if (!await Simulator._isSimulatorRunningAsync()) {\n      throw new Error(\n        \"Simulator should be running after being opened, but we're detecting that it isn't.\"\n      );\n    }\n\n    if (await Simulator._isExpoAppInstalledOnCurrentBootedSimulatorAsync()) {\n      await Simulator._uninstallExpoAppFromSimulatorAsync();\n    }\n    if (await Simulator._isExpoAppInstalledOnCurrentBootedSimulatorAsync()) {\n      throw new Error(\n        \"Expo app shouldn't be installed on this simulator but it is\"\n      );\n    }\n    await Simulator._installExpoOnSimulatorAsync();\n    if (!await Simulator._isExpoAppInstalledOnCurrentBootedSimulatorAsync()) {\n      throw new Error(\n        \"Expo app should be installed on this simulator but it isn't\"\n      );\n    }\n\n    await Simulator._openUrlInSimulatorAsync(\n      'exp://exp.host/@exponent/fluxpybird'\n    );\n\n    await delayAsync(6000);\n\n    await Simulator._uninstallExpoAppFromSimulatorAsync();\n    if (await Simulator._isExpoAppInstalledOnCurrentBootedSimulatorAsync()) {\n      throw new Error(\n        \"Expo app shouldn't be installed on this simulator but it is (2)\"\n      );\n    }\n\n    await Simulator._quitSimulatorAsync();\n    if (await Simulator._isSimulatorRunningAsync()) {\n      throw new Error(\"Simulator shouldn't be running but it is\");\n    }\n  });\n});\n"],"sourceRoot":"/xdl/src"}